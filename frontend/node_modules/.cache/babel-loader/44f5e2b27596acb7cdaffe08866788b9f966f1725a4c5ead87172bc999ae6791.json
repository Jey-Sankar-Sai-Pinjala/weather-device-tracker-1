{"ast":null,"code":"import{MapContainer,TileLayer,Polyline,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[positions,setPositions]=useState([]);const[selected,setSelected]=useState(null);useEffect(()=>{axios.get('http://localhost:5000/api/positions').then(response=>setPositions(response.data)).catch(error=>console.error('Error fetching data:',error));},[]);const polyline=positions.map(p=>[p.lat,p.lon]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'600px',flex:1},children:/*#__PURE__*/_jsxs(MapContainer,{center:[8.74,69.15],zoom:13,scrollWheelZoom:false,style:{height:'100%',borderRadius:'1rem'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),/*#__PURE__*/_jsx(Polyline,{positions:polyline,color:\"blue\"}),positions.map((pos,index)=>/*#__PURE__*/_jsx(Marker,{position:[pos.lat,pos.lon],eventHandlers:{click:()=>setSelected(pos)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fix Time:\"}),\" \",pos.fixTime,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Obs Time:\"}),\" \",pos.obsTime,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0394Time (min):\"}),\" \",Math.round((new Date(pos.fixTime)-new Date(pos.obsTime))/60000)]})})},index))]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:selected?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selected Point\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Latitude:\"}),\" \",selected.lat]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Longitude:\"}),\" \",selected.lon]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Position Fix Time:\"}),\" \",selected.fixTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observation Time:\"}),\" \",selected.obsTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time Difference:\"}),\" \",Math.round((new Date(selected.fixTime)-new Date(selected.obsTime))/60000),\" minutes\"]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Select a marker on the map to view details.\"})})]});}","map":{"version":3,"names":["MapContainer","TileLayer","Polyline","Marker","Popup","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","App","positions","setPositions","selected","setSelected","get","then","response","data","catch","error","console","polyline","map","p","lat","lon","style","display","gap","padding","children","height","flex","center","zoom","scrollWheelZoom","borderRadius","url","attribution","color","pos","index","position","eventHandlers","click","fixTime","obsTime","Math","round","Date"],"sources":["C:/Users/user/Downloads/weather-device-tracker/frontend/src/App.jsx"],"sourcesContent":["import { MapContainer, TileLayer, Polyline, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nexport default function App() {\n  const [positions, setPositions] = useState([]);\n  const [selected, setSelected] = useState(null);\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/positions')\n      .then(response => setPositions(response.data))\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const polyline = positions.map(p => [p.lat, p.lon]);\n\n  return (\n    <div style={{ display: 'flex', gap: '2rem', padding: '2rem' }}>\n      <div style={{ height: '600px', flex: 1 }}>\n        <MapContainer center={[8.74, 69.15]} zoom={13} scrollWheelZoom={false} style={{ height: '100%', borderRadius: '1rem' }}>\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution=\"&copy; OpenStreetMap contributors\"\n          />\n          <Polyline positions={polyline} color=\"blue\" />\n          {positions.map((pos, index) => (\n            <Marker key={index} position={[pos.lat, pos.lon]} eventHandlers={{ click: () => setSelected(pos) }}>\n              <Popup>\n                <div>\n                  <strong>Fix Time:</strong> {pos.fixTime}<br />\n                  <strong>Obs Time:</strong> {pos.obsTime}<br />\n                  <strong>Î”Time (min):</strong> {Math.round((new Date(pos.fixTime) - new Date(pos.obsTime)) / 60000)}\n                </div>\n              </Popup>\n            </Marker>\n          ))}\n        </MapContainer>\n      </div>\n      <div style={{ flex: 1 }}>\n        {selected ? (\n          <div>\n            <h2>Selected Point</h2>\n            <p><strong>Latitude:</strong> {selected.lat}</p>\n            <p><strong>Longitude:</strong> {selected.lon}</p>\n            <p><strong>Position Fix Time:</strong> {selected.fixTime}</p>\n            <p><strong>Observation Time:</strong> {selected.obsTime}</p>\n            <p><strong>Time Difference:</strong> {Math.round((new Date(selected.fixTime) - new Date(selected.obsTime)) / 60000)} minutes</p>\n          </div>\n        ) : (\n          <p>Select a marker on the map to view details.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}