{"ast":null,"code":"import{MapContainer,TileLayer,Polyline,Marker,Popup}from'react-leaflet';import'leaflet/dist/leaflet.css';import{useState,useEffect}from'react';import axios from'axios';import L from'leaflet';import markerIcon2x from'leaflet/dist/images/marker-icon-2x.png';import markerIcon from'leaflet/dist/images/marker-icon.png';import markerShadow from'leaflet/dist/images/marker-shadow.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";delete L.Icon.Default.prototype._getIconUrl;L.Icon.Default.mergeOptions({iconRetinaUrl:markerIcon2x,iconUrl:markerIcon,shadowUrl:markerShadow});export default function App(){const[positions,setPositions]=useState([]);const[selected,setSelected]=useState(null);useEffect(()=>{axios.get('http://localhost:5000/api/positions').then(response=>setPositions(response.data)).catch(error=>console.error('Error fetching data:',error));},[]);const polyline=positions.map(p=>[p.lat,p.lon]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'2rem',padding:'2rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{height:'600px',flex:1},children:/*#__PURE__*/_jsxs(MapContainer,{center:[20.74,78.15],zoom:2,scrollWheelZoom:true,style:{height:'100%',borderRadius:'1rem'},children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",attribution:\"\\xA9 OpenStreetMap contributors\"}),/*#__PURE__*/_jsx(Polyline,{positions:polyline,color:\"red\"}),positions.map((pos,index)=>{console.log(\"Marker \".concat(index,\":\"),pos.lat,pos.lon);return/*#__PURE__*/_jsx(Marker,{position:[pos.lat,pos.lon],eventHandlers:{click:()=>setSelected(pos)},children:/*#__PURE__*/_jsx(Popup,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Fix Time:\"}),\" \",pos.fixTime,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"Obs Time:\"}),\" \",pos.obsTime,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0394Time (min):\"}),\" \",Math.round((new Date(pos.fixTime)-new Date(pos.obsTime))/60000)]})})},index);})]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:selected?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Selected Point\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Latitude:\"}),\" \",selected.lat]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Longitude:\"}),\" \",selected.lon]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Position Fix Time:\"}),\" \",selected.fixTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Observation Time:\"}),\" \",selected.obsTime]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Time Difference:\"}),\" \",Math.round((new Date(selected.fixTime)-new Date(selected.obsTime))/60000),\" minutes\"]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"Select a marker on the map to view details.\"})})]});}","map":{"version":3,"names":["MapContainer","TileLayer","Polyline","Marker","Popup","useState","useEffect","axios","L","markerIcon2x","markerIcon","markerShadow","jsx","_jsx","jsxs","_jsxs","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","App","positions","setPositions","selected","setSelected","get","then","response","data","catch","error","console","polyline","map","p","lat","lon","style","display","gap","padding","children","height","flex","center","zoom","scrollWheelZoom","borderRadius","url","attribution","color","pos","index","log","concat","position","eventHandlers","click","fixTime","obsTime","Math","round","Date"],"sources":["C:/Users/user/Downloads/weather-device-tracker/frontend/src/App.jsx"],"sourcesContent":["import { MapContainer, TileLayer, Polyline, Marker, Popup } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport L from 'leaflet';\nimport markerIcon2x from 'leaflet/dist/images/marker-icon-2x.png';\nimport markerIcon from 'leaflet/dist/images/marker-icon.png';\nimport markerShadow from 'leaflet/dist/images/marker-shadow.png';\n\ndelete L.Icon.Default.prototype._getIconUrl;\n\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: markerIcon2x,\n  iconUrl: markerIcon,\n  shadowUrl: markerShadow,\n});\n\n\nexport default function App() {\n  const [positions, setPositions] = useState([]);\n  const [selected, setSelected] = useState(null);\n\n  useEffect(() => {\n    axios.get('http://localhost:5000/api/positions')\n      .then(response => setPositions(response.data))\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const polyline = positions.map(p => [p.lat, p.lon]);\n\n  return (\n    <div style={{ display: 'flex', gap: '2rem', padding: '2rem' }}>\n      <div style={{ height: '600px', flex: 1 }}>\n        <MapContainer center={[20.74, 78.15]} zoom={2} scrollWheelZoom={true} style={{ height: '100%', borderRadius: '1rem' }}>\n          <TileLayer\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            attribution=\"&copy; OpenStreetMap contributors\"\n          />\n          <Polyline positions={polyline} color=\"red\" />\n          {positions.map((pos, index) => {\n            console.log(`Marker ${index}:`, pos.lat, pos.lon);\n           return ( <Marker key={index} position={[pos.lat, pos.lon]} eventHandlers={{ click: () => setSelected(pos) }}>\n              <Popup>\n                <div>\n                  <strong>Fix Time:</strong> {pos.fixTime}<br />\n                  <strong>Obs Time:</strong> {pos.obsTime}<br />\n                  <strong>Î”Time (min):</strong> {Math.round((new Date(pos.fixTime) - new Date(pos.obsTime)) / 60000)}\n                </div>\n              </Popup>\n            </Marker>);\n          })}\n        </MapContainer>\n      </div>\n      <div style={{ flex: 1 }}>\n        {selected ? (\n          <div>\n            <h2>Selected Point</h2>\n            <p><strong>Latitude:</strong> {selected.lat}</p>\n            <p><strong>Longitude:</strong> {selected.lon}</p>\n            <p><strong>Position Fix Time:</strong> {selected.fixTime}</p>\n            <p><strong>Observation Time:</strong> {selected.obsTime}</p>\n            <p><strong>Time Difference:</strong> {Math.round((new Date(selected.fixTime) - new Date(selected.obsTime)) / 60000)} minutes</p>\n          </div>\n        ) : (\n          <p>Select a marker on the map to view details.</p>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}